<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Element Capture Test - Nested Coverage</title>
    <style>
        body {
            margin: 20px;
            font-family: monospace;
            background-color: #f0f0f0;
            font-size: 14px;
        }
        
        .test-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .test-box {
            border: 3px solid #333;
            padding: 15px;
            background-color: white;
            min-height: 300px;
        }
        
        .box-header {
            background-color: #333;
            color: white;
            padding: 8px;
            margin: -15px -15px 15px -15px;
            font-weight: bold;
        }
        
        iframe {
            width: 100%;
            height: 250px;
            border: 2px solid #666;
        }
        
        .shadow-host {
            border: 3px dashed #e74c3c;
            background-color: #ffeaa7;
            padding: 20px;
            margin: 20px 0;
        }
        
        .shadow-content {
            background-color: #81ecec;
            border: 2px solid #00b894;
            padding: 15px;
            margin: 10px 0;
        }
        
        .nested-indicator {
            background-color: #fd79a8;
            color: white;
            padding: 5px 10px;
            display: inline-block;
            margin: 5px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Element Capture Test Environment - Nested Coverage Analysis</h1>
    
    <div class="test-container">
        
        <!-- IFRAME 1: Simple Content -->
        <div class="test-box">
            <div class="box-header">IFRAME-1: Basic Rectangle</div>
            <iframe srcdoc='
                <html>
                <body style="margin:20px; background:#e8f4fd; font-family:monospace;">
                    <div style="background:#74b9ff; color:white; padding:20px; text-align:center;">
                        <h2>IFRAME-1 Content</h2>
                        <p>This is Level 1 nested content</p>
                        <div style="background:#0984e3; padding:15px; margin:10px 0;">
                            <strong>NESTED-L2:</strong> Simple nested div
                        </div>
                    </div>
                </body>
                </html>
            '></iframe>
        </div>
        
        <!-- IFRAME 2: Double Nested -->
        <div class="test-box">
            <div class="box-header">IFRAME-2: Double Nested</div>
            <iframe srcdoc='
                <html>
                <body style="margin:20px; background:#e8f5e8; font-family:monospace;">
                    <div style="background:#00b894; color:white; padding:20px; text-align:center;">
                        <h2>IFRAME-2 Content</h2>
                        <p>Level 1 - Contains nested iframe</p>
                        <div style="background:#00a085; padding:10px; margin:10px 0;">
                            <strong>NESTED-L2:</strong> Container for L3
                            <iframe style="width:100%; height:80px; border:2px solid #fff; margin:5px 0;" 
                                    srcdoc="<html><body style=\"background:#55a3ff; color:white; padding:10px; font-family:monospace; text-align:center;\"><strong>NESTED-L3:</strong><br/>Deep nested iframe content<br/>Depth: 3 levels</body></html>">
                            </iframe>
                        </div>
                    </div>
                </body>
                </html>
            '></iframe>
        </div>
        
        <!-- IFRAME 3: Triple Nested -->
        <div class="test-box">
            <div class="box-header">IFRAME-3: Triple Nested (4 Levels Deep)</div>
            <iframe srcdoc='
                <html>
                <body style="margin:20px; background:#fff2e8; font-family:monospace;">
                    <div style="background:#e17055; color:white; padding:20px; text-align:center;">
                        <h2>IFRAME-3 Content</h2>
                        <p>Level 1 - Root iframe</p>
                        <div style="background:#d63031; padding:10px; margin:10px 0;">
                            <strong>NESTED-L2:</strong> Second level container
                            <iframe style="width:100%; height:120px; border:2px solid #fff; margin:5px 0;" 
                                    srcdoc="<html><body style=\"background:#6c5ce7; color:white; padding:8px; font-family:monospace;\">
                                        <div style=\"text-align:center; margin-bottom:8px;\"><strong>NESTED-L3:</strong> Third level</div>
                                        <iframe style=\"width:100%; height:50px; border:1px solid #fff;\" 
                                                srcdoc=\"<html><body style=\'background:#a29bfe; color:white; padding:5px; font-family:monospace; text-align:center; font-size:11px;\'><strong>NESTED-L4:</strong><br/>DEEPEST LEVEL<br/>4 levels deep</body></html>\">
                                        </iframe>
                                    </body></html>">
                            </iframe>
                        </div>
                    </div>
                </body>
                </html>
            '></iframe>
        </div>
        
    </div>
    
    <!-- Second Row -->
    <div class="test-container">
        
        <!-- IFRAME 4: Form Elements -->
        <div class="test-box">
            <div class="box-header">IFRAME-4: Form Elements</div>
            <iframe srcdoc='
                <html>
                <body style="margin:20px; background:#f8f8f8; font-family:monospace;">
                    <div style="background:#636e72; color:white; padding:20px;">
                        <h2>IFRAME-4: Form Testing</h2>
                        <p>Contains nested form elements</p>
                        <div style="background:#2d3436; padding:15px; margin:10px 0;">
                            <strong>NESTED-L2:</strong> Form Container<br/>
                            <input type="text" value="Test Input L2" style="margin:5px; padding:5px;"/><br/>
                            <select style="margin:5px; padding:5px;">
                                <option>Option 1 L2</option>
                                <option>Option 2 L2</option>
                            </select><br/>
                            <button style="background:#00b894; color:white; padding:8px; border:none; margin:5px;">Button L2</button>
                        </div>
                    </div>
                </body>
                </html>
            '></iframe>
        </div>
        
        <!-- IFRAME 5: Table Data -->
        <div class="test-box">
            <div class="box-header">IFRAME-5: Table Structure</div>
            <iframe srcdoc='
                <html>
                <body style="margin:20px; background:#fef9e7; font-family:monospace;">
                    <div style="background:#fdcb6e; padding:20px;">
                        <h2>IFRAME-5: Data Table</h2>
                        <p>Nested table structure</p>
                        <div style="background:#e84393; color:white; padding:10px; margin:10px 0;">
                            <strong>NESTED-L2:</strong> Table Container
                            <table style="width:100%; border-collapse:collapse; margin:8px 0;">
                                <tr style="background:#fd79a8;">
                                    <th style="border:1px solid white; padding:5px; color:white;">ID</th>
                                    <th style="border:1px solid white; padding:5px; color:white;">Level</th>
                                </tr>
                                <tr style="background:#e84393;">
                                    <td style="border:1px solid white; padding:5px; color:white;">001</td>
                                    <td style="border:1px solid white; padding:5px; color:white;">L2</td>
                                </tr>
                                <tr style="background:#e84393;">
                                    <td style="border:1px solid white; padding:5px; color:white;">002</td>
                                    <td style="border:1px solid white; padding:5px; color:white;">L2</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </body>
                </html>
            '></iframe>
        </div>
        
        <!-- IFRAME 6: List Structure -->
        <div class="test-box">
            <div class="box-header">IFRAME-6: List Hierarchy</div>
            <iframe srcdoc='
                <html>
                <body style="margin:20px; background:#e8f8f5; font-family:monospace;">
                    <div style="background:#00b894; color:white; padding:20px;">
                        <h2>IFRAME-6: Nested Lists</h2>
                        <p>Hierarchical list structure</p>
                        <div style="background:#00a085; padding:15px; margin:10px 0;">
                            <strong>NESTED-L2:</strong> List Container
                            <ul style="color:white;">
                                <li>Root Item L2
                                    <ul>
                                        <li>Child Item L3-A</li>
                                        <li>Child Item L3-B</li>
                                    </ul>
                                </li>
                                <li>Another Root L2</li>
                            </ul>
                        </div>
                    </div>
                </body>
                </html>
            '></iframe>
        </div>
        
    </div>
    
    <!-- Classic Frameset Section -->
    <div style="background:#34495e; color:white; padding:15px; margin:30px 0;">
        <h2>FRAMESET TESTING SECTION</h2>
        <p>Testing classic HTML framesets for legacy system compatibility</p>
    </div>
    
    <div class="test-container">
        
                 <!-- Frameset 1: Basic 2-frame layout -->
         <div class="test-box">
             <div class="box-header">FRAMESET-1: Horizontal Split</div>
             <div style="background:#f0f0f0; padding:5px; height:280px; font-family:monospace;">
                 <div style="background:#e74c3c; color:white; padding:15px; height:48%; text-align:center; border:3px solid #c0392b; margin-bottom:5px;">
                     <h3>FRAME-TOP [FRAMESET-L1]</h3>
                     <p>Upper frame in horizontal frameset (50% height)</p>
                     <div style="background:#c0392b; padding:10px; margin:10px; border:2px solid #a93226;">
                         <strong>NESTED-L2:</strong> Content inside top frame element
                         <br/><input type="text" value="Top Frame Input" style="margin:5px; padding:3px;"/>
                     </div>
                 </div>
                 <div style="background:#3498db; color:white; padding:15px; height:45%; text-align:center; border:3px solid #2980b9;">
                     <h3>FRAME-BOTTOM [FRAMESET-L1]</h3>
                     <p>Lower frame in horizontal frameset (50% height)</p>
                     <div style="background:#2980b9; padding:10px; margin:10px; border:2px solid #21618c;">
                         <strong>NESTED-L2:</strong> Content inside bottom frame element
                         <br/><button style="background:#1565c0; color:white; border:none; padding:5px 10px; margin:5px;">Bottom Frame Button</button>
                     </div>
                 </div>
             </div>
         </div>
        
                 <!-- Frameset 2: Vertical split -->
         <div class="test-box">
             <div class="box-header">FRAMESET-2: Vertical Split</div>
             <div style="background:#f0f0f0; padding:5px; height:280px; font-family:monospace; display:flex; gap:5px;">
                 <div style="background:#27ae60; color:white; padding:15px; width:60%; text-align:center; border:3px solid #229954;">
                     <h3>FRAME-LEFT [FRAMESET-L1]</h3>
                     <p>Left frame (60% width)</p>
                     <div style="background:#229954; padding:10px; margin:10px; border:2px solid #1e8449;">
                         <strong>NESTED-L2:</strong> Left frame content area<br/>
                         <input type="text" value="Left Frame Input L2" style="margin:5px; padding:3px; font-size:11px;"/>
                         <br/><select style="margin:5px; padding:3px; font-size:11px;">
                             <option>Option 1</option>
                             <option selected>Option 2</option>
                         </select>
                     </div>
                 </div>
                 <div style="background:#f39c12; color:white; padding:15px; width:40%; text-align:center; border:3px solid #e67e22;">
                     <h3>FRAME-RIGHT [FRAMESET-L1]</h3>
                     <p>Right frame (40% width)</p>
                     <div style="background:#e67e22; padding:10px; margin:10px; border:2px solid #d35400;">
                         <strong>NESTED-L2:</strong> Right frame content area<br/>
                         <button style="background:#d35400; color:white; border:none; padding:5px 10px; margin:5px; font-size:11px;">Right Frame Button L2</button>
                         <br/><textarea style="margin:5px; width:80%; height:40px; font-size:10px;" readonly>Right frame textarea</textarea>
                     </div>
                 </div>
             </div>
         </div>
        
                 <!-- Frameset 3: Complex nested framesets -->
         <div class="test-box">
             <div class="box-header">FRAMESET-3: Nested Framesets (3 Levels)</div>
             <div style="background:#f0f0f0; padding:5px; height:280px; font-family:monospace;">
                 <div style="background:#8e44ad; color:white; padding:10px; height:30%; text-align:center; border:3px solid #7d3c98; margin-bottom:5px;">
                     <h4>FRAME-HEADER [FRAMESET-L1]</h4>
                     <p>Top header frame (30% height)</p>
                     <div style="background:#7d3c98; padding:8px; margin:5px; border:2px solid #6c3483;">
                         <strong>NESTED-L2:</strong> Header content area
                         <input type="text" value="Header Search" style="margin:3px; padding:2px; font-size:10px;"/>
                     </div>
                 </div>
                 <div style="display:flex; height:63%; gap:5px;">
                     <div style="background:#16a085; color:white; padding:10px; width:25%; border:3px solid #138d75;">
                         <h5>FRAME-NAV [FRAMESET-L2]</h5>
                         <p style="font-size:11px;">Navigation (25%)</p>
                         <div style="background:#138d75; padding:8px; margin:5px; border:2px solid #117864;">
                             <strong>NESTED-L3:</strong> Nav menu
                             <ul style="color:white; font-size:10px; margin:5px; padding-left:15px;">
                                 <li>Home</li>
                                 <li>Products</li>
                                 <li>Services</li>
                                 <li>Contact</li>
                             </ul>
                         </div>
                     </div>
                     <div style="background:#e67e22; color:white; padding:10px; width:75%; border:3px solid #d68910;">
                         <h5>FRAME-MAIN [FRAMESET-L2]</h5>
                         <p style="font-size:11px;">Main content area (75%)</p>
                         <div style="background:#d68910; padding:8px; margin:5px; border:2px solid #b7950b;">
                             <strong>NESTED-L3:</strong> Main content container
                             <div style="background:#b7950b; padding:6px; margin:5px; border:2px solid #9c640c;">
                                 <strong>NESTED-L4:</strong> DEEPEST FRAMESET LEVEL
                                 <br/><button style="background:#856404; color:white; border:none; padding:3px 6px; margin:2px; font-size:9px;">Deep Action Button</button>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>
         </div>
        
    </div>
    
    <!-- Second row of framesets -->
    <div class="test-container">
        
                 <!-- Frameset 4: Grid-like layout -->
         <div class="test-box">
             <div class="box-header">FRAMESET-4: Grid Layout (2x2)</div>
             <div style="background:#f0f0f0; padding:10px; height:280px; font-family:monospace;">
                 <div style="display:grid; grid-template-columns:1fr 1fr; grid-template-rows:1fr 1fr; height:100%; gap:3px;">
                     <div style="background:#e91e63; color:white; padding:10px; text-align:center; border:2px solid #c2185b;">
                         <h4>FRAME-TL [FRAMESET-L1]</h4>
                         <p>Top-Left (Grid Position)</p>
                         <div style="background:#c2185b; padding:6px; margin:5px; border:1px solid #ad1457;">
                             <strong>NESTED-L2:</strong> TL Content Area
                         </div>
                     </div>
                     <div style="background:#9c27b0; color:white; padding:10px; text-align:center; border:2px solid #7b1fa2;">
                         <h4>FRAME-TR [FRAMESET-L1]</h4>
                         <p>Top-Right (Grid Position)</p>
                         <div style="background:#7b1fa2; padding:6px; margin:5px; border:1px solid #6a1b9a;">
                             <strong>NESTED-L2:</strong> TR Content Area
                         </div>
                     </div>
                     <div style="background:#673ab7; color:white; padding:10px; text-align:center; border:2px solid #512da8;">
                         <h4>FRAME-BL [FRAMESET-L1]</h4>
                         <p>Bottom-Left (Grid Position)</p>
                         <div style="background:#512da8; padding:6px; margin:5px; border:1px solid #4527a0;">
                             <strong>NESTED-L2:</strong> BL Content Area
                         </div>
                     </div>
                     <div style="background:#3f51b5; color:white; padding:10px; text-align:center; border:2px solid #303f9f;">
                         <h4>FRAME-BR [FRAMESET-L1]</h4>
                         <p>Bottom-Right (Grid Position)</p>
                         <div style="background:#303f9f; padding:6px; margin:5px; border:1px solid #283593;">
                             <strong>NESTED-L2:</strong> BR Content Area
                         </div>
                     </div>
                 </div>
             </div>
         </div>

         <!-- Frameset 5: With noframes fallback -->
         <div class="test-box">
             <div class="box-header">FRAMESET-5: NoFrames Fallback Demo</div>
             <div style="background:#ffcdd2; padding:15px; height:280px; font-family:monospace;">
                 <h3 style="color:#c62828; margin-bottom:10px;">NOFRAMES FALLBACK [ACTIVE]</h3>
                 <p style="margin-bottom:15px;">This content demonstrates noframes fallback behavior</p>
                 <div style="display:flex; height:220px; gap:10px;">
                     <div style="background:#607d8b; color:white; padding:15px; width:70%; border:2px solid #455a64;">
                         <h4>FRAME-CONTENT [FRAMESET-L1]</h4>
                         <p>Main content area (70% width)</p>
                         <div style="background:#455a64; padding:8px; margin:8px; border:1px solid #37474f;">
                             <strong>NESTED-L2:</strong> Content table area
                             <table style="color:white; border-collapse:collapse; font-size:10px; margin-top:5px;">
                                 <tr><td style="border:1px solid white; padding:3px;">Data Row 1</td></tr>
                                 <tr><td style="border:1px solid white; padding:3px;">Data Row 2</td></tr>
                             </table>
                         </div>
                     </div>
                     <div style="background:#795548; color:white; padding:15px; width:30%; border:2px solid #5d4037;">
                         <h4>FRAME-SIDEBAR [FRAMESET-L1]</h4>
                         <p>Sidebar (30%)</p>
                         <div style="background:#5d4037; padding:8px; margin:8px; border:1px solid #4e342e;">
                             <strong>NESTED-L2:</strong> Sidebar content
                         </div>
                     </div>
                 </div>
             </div>
         </div>

         <!-- Frameset 6: Deeply nested framesets -->
         <div class="test-box">
             <div class="box-header">FRAMESET-6: Deep Nesting (4 Levels)</div>
             <div style="background:#f5f5f5; padding:8px; height:280px; font-family:monospace;">
                 <div style="background:#ff5722; color:white; padding:8px; height:40%; text-align:center; border:2px solid #e64a19; margin-bottom:5px;">
                     <h5>FRAME-L1 [FRAMESET-L1]</h5>
                     <p>Level 1 Frame (40% height)</p>
                     <div style="background:#e64a19; padding:5px; margin:3px; border:1px solid #d84315;">
                         <strong>NESTED-L2:</strong> First level content
                     </div>
                 </div>
                 <div style="display:flex; height:55%; gap:5px;">
                     <div style="width:50%;">
                         <div style="background:#4caf50; color:white; padding:6px; height:48%; text-align:center; border:2px solid #43a047; margin-bottom:4px;">
                             <h6>FRAME-L2A [FRAMESET-L2]</h6>
                             <div style="background:#43a047; padding:4px; margin:2px; border:1px solid #388e3c;">
                                 <strong>NESTED-L3:</strong> L2A content
                             </div>
                         </div>
                         <div style="background:#ff9800; color:white; padding:6px; height:48%; text-align:center; border:2px solid #f57c00;">
                             <h6>FRAME-L3 [FRAMESET-L3]</h6>
                             <div style="background:#f57c00; padding:3px; margin:1px; border:1px solid #ef6c00;">
                                 <strong>NESTED-L4:</strong> DEEPEST FRAMESET LEVEL
                             </div>
                         </div>
                     </div>
                     <div style="background:#2196f3; color:white; padding:8px; width:50%; text-align:center; border:2px solid #1976d2;">
                         <h6>FRAME-L2C [FRAMESET-L2]</h6>
                         <p>Level 2C Frame</p>
                         <div style="background:#1976d2; padding:5px; margin:3px; border:1px solid #1565c0;">
                             <strong>NESTED-L3:</strong> L2C content area
                         </div>
                     </div>
                 </div>
             </div>
         </div>
        
    </div>
    
    <!-- Shadow DOM Test Areas -->
    <div class="shadow-host" id="shadow-test-1">
        <h3>SHADOW-DOM-1: Basic Shadow Host</h3>
        <p>This rectangle represents a shadow DOM boundary</p>
        <div class="shadow-content">
            <strong>SHADOW-CONTENT-1:</strong> Encapsulated content inside shadow root
            <div style="background:#fab1a0; padding:10px; margin:10px 0;">
                <strong>NESTED-SHADOW-L2:</strong> Nested element within shadow boundary
            </div>
        </div>
    </div>
    
    <div class="shadow-host" id="shadow-test-2">
        <h3>SHADOW-DOM-2: Complex Shadow Structure</h3>
        <p>Testing deeper shadow DOM nesting patterns</p>
        <div class="shadow-content">
            <strong>SHADOW-CONTENT-2:</strong> Primary shadow content
            <div style="background:#fd79a8; color:white; padding:15px; margin:10px 0;">
                <strong>NESTED-SHADOW-L2:</strong> Second level shadow content
                <div style="background:#e84393; padding:10px; margin:8px 0;">
                    <strong>NESTED-SHADOW-L3:</strong> Deep shadow nesting
                </div>
            </div>
            <div style="background:#55a3ff; color:white; padding:10px; margin:10px 0;">
                <strong>SHADOW-FORM-ELEMENTS:</strong><br/>
                <input type="text" value="Shadow Input" style="margin:5px;"/>
                <button style="background:#0984e3; color:white; border:none; padding:5px 10px; margin:5px;">Shadow Button</button>
            </div>
        </div>
    </div>
    
    <!-- Coverage Summary -->
    <div style="background:#2d3436; color:white; padding:20px; margin:30px 0;">
        <h2>COVERAGE SUMMARY</h2>
        <div class="nested-indicator">6 MAIN IFRAMES</div>
        <div class="nested-indicator">6 CLASSIC FRAMESETS</div>
        <div class="nested-indicator">4 NESTING LEVELS (L1→L2→L3→L4)</div>
        <div class="nested-indicator">2 SHADOW DOM HOSTS</div>
        <div class="nested-indicator">FORM ELEMENTS</div>
        <div class="nested-indicator">TABLE STRUCTURES</div>
        <div class="nested-indicator">LIST HIERARCHIES</div>
        <div class="nested-indicator">NOFRAMES FALLBACK</div>
        <p style="margin-top:15px;">
            <strong>TEST READY:</strong> This page provides comprehensive nested element coverage 
            including classic framesets for testing browser agent capture capabilities across 
            multiple DOM depths, shadow boundaries, and legacy frame structures.
        </p>
    </div>
    
</body>
</html> 
